(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76472e24"],{"34c3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("InputTitle",{scopedSlots:e._u([{key:"title",fn:function(){return[a("h1",{staticClass:"title-text"},[e._v("建立你的帳號")])]},proxy:!0}])},[void 0],2),a("form",{staticClass:"form-items",attrs:{action:""},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.signUp.apply(null,arguments)}}},[e._l(e.items,(function(t){return a("InputForm",{key:t.id,scopedSlots:e._u([{key:"input",fn:function(){return[a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-label"},[e._v(e._s(t.label))]),"checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"item.model"}],staticClass:"form-input",attrs:{name:t.name,placeholder:t.placeholder,required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.model)?e._i(t.model,null)>-1:t.model},on:{change:function(a){var s=t.model,n=a.target,o=!!n.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);n.checked?i<0&&e.$set(t,"model",s.concat([r])):i>-1&&e.$set(t,"model",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(t,"model",o)}}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"item.model"}],staticClass:"form-input",attrs:{name:t.name,placeholder:t.placeholder,required:"",type:"radio"},domProps:{checked:e._q(t.model,null)},on:{change:function(a){return e.$set(t,"model",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"item.model"}],staticClass:"form-input",attrs:{name:t.name,placeholder:t.placeholder,required:"",type:t.type},domProps:{value:t.model},on:{input:function(a){a.target.composing||e.$set(t,"model",a.target.value)}}})])]},proxy:!0}],null,!0)})})),a("div",{staticClass:"form-btns"},[a("button",{staticClass:"form-btn",attrs:{type:"submit"}},[e._v(e._s(e.isProcessing?"處理中":"註冊"))]),a("div",{staticClass:"form-cancel"},[a("router-link",{staticClass:"form-cancel-btn",attrs:{to:"/signin"}},[e._v(" 取消 ")])],1)])],2)],1)},n=[],o=a("c7eb"),r=a("1da1"),i=(a("d9e2"),a("2746")),l=a("e417"),c=a("7696"),m=a("2fa3"),d={name:"Signup",components:{InputTitle:i["a"],InputForm:l["a"]},data:function(){return{isProcessing:!1,items:[{id:1,label:"帳號",name:"account",type:"text",placeholder:"請輸入帳號",model:""},{id:2,label:"名稱",name:"name",type:"text",placeholder:"請輸入使用者名稱",model:""},{id:3,label:"密碼",name:"password",type:"password",placeholder:"請設定密碼",model:""},{id:4,label:"密碼確認",name:"passwordCheck",type:"password",placeholder:"請再次輸入密碼",model:""}]}},methods:{signUp:function(){var e=this;return Object(r["a"])(Object(o["a"])().mark((function t(){var a,s,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.items[0].model&&e.items[1].model&&e.items[2].model&&e.items[3].model){t.next=3;break}return m["a"].fire({icon:"warning",title:"請填寫完整資料，不可空白"}),t.abrupt("return");case 3:if(e.items[2].model===e.items[3].model){t.next=6;break}return m["a"].fire({icon:"warning",title:"密碼和密碼確認不同，請再次確認"}),t.abrupt("return");case 6:return t.prev=6,e.$socket.open(),e.isProcessing=!0,t.next=11,c["a"].signup({account:e.items[0].model,name:e.items[1].model,password:e.items[2].model,passwordCheck:e.items[3].model});case 11:if(a=t.sent,s=a.data,"success"===s.status){t.next=15;break}throw new Error(s.data.message);case 15:e.$socket.emit("user_login",s.data),n=s.data.token,localStorage.setItem("token",n),e.$store.commit("setToken",n),e.$router.push("/chat"),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](6),e.isProcessing=!1,409===t.t0.response.status?m["a"].fire({icon:"warning",title:t.t0.response.data.message}):m["a"].fire({icon:"error",title:t.t0.response.data.message});case 26:case"end":return t.stop()}}),t,null,[[6,22]])})))()}}},u=d,p=(a("fc5b"),a("2877")),f=Object(p["a"])(u,s,n,!1,null,"62eb3f6c",null);t["default"]=f.exports},"6f06":function(e,t,a){},fc5b:function(e,t,a){"use strict";a("6f06")}}]);
//# sourceMappingURL=chunk-76472e24.757694c6.js.map